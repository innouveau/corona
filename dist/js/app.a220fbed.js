(function(t){function e(e){for(var r,n,o=e[0],l=e[1],c=e[2],p=0,h=[];p<o.length;p++)n=o[p],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&h.push(a[n][0]),a[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(h.length)h.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],r=!0,o=1;o<s.length;o++){var l=s[o];0!==a[l]&&(r=!1)}r&&(i.splice(e--,1),t=n(n.s=s[0]))}return t}var r={},a={app:0},i=[];function n(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=r,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(s,r,function(e){return t[e]}.bind(null,r));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"067f":function(t,e,s){},"1c34":function(t,e,s){"use strict";var r=s("86da"),a=s.n(r);a.a},"1f27":function(t,e,s){"use strict";var r=s("4dfc"),a=s.n(r);a.a},2778:function(t,e,s){},"2c1d":function(t,e,s){},"2f5c":function(t,e,s){},3192:function(t,e,s){},"32e2":function(t,e,s){"use strict";var r=s("5d47"),a=s.n(r);a.a},"33f3":function(t,e,s){"use strict";var r=s("9163"),a=s.n(r);a.a},"3e28":function(t,e,s){},4280:function(t,e,s){"use strict";var r=s("9c15"),a=s.n(r);a.a},"437c":function(t,e,s){},4587:function(t,e,s){},4883:function(t,e,s){"use strict";var r=s("2778"),a=s.n(r);a.a},4909:function(t,e,s){},"4dfc":function(t,e,s){},5421:function(t,e,s){"use strict";var r=s("4909"),a=s.n(r);a.a},"56d7":function(t,e,s){"use strict";s.r(e);var r=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app"},[s("tools"),t.dataLoaded?s("graphs"):t._e()],1)},i=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tools"},[s("div",{staticClass:"tools__section"},[s("country-picker"),s("type-picker")],1),s("div",{staticClass:"tools__section"},[s("settings"),s("dashboard")],1)])},o=[],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"country-picker tool"},[s("search-countries"),s("selected-countries")],1)},c=[],u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"country"},[s("country-color",{attrs:{country:t.country}}),s("div",{staticClass:"country__title"},[t._v(" "+t._s(t.country.title)+" ("+t._s(t.country.id)+") ")]),s("div",{staticClass:"country__remove",on:{click:function(e){return t.deleteCountry()}}},[t._v("Ã—")])],1)},p=[];class h{constructor({id:t=null,title:e="",searchTags:s="",color:r="",population:a=0,entries:i=[]}){this.id=t,this.title=e,this.searchTags=s,this.color=r,this.population=a,this.entries=i,this.active=!1}}var d=h,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"country-color",style:{"background-color":t.country.color},on:{click:function(e){return t.toggle()}}},[t.isOpen?s("swatches-picker",{model:{value:t.color,callback:function(e){t.color=e},expression:"color"}}):t._e()],1)},g=[],f=s("c345"),v={name:"country-color",components:{"swatches-picker":f["Swatches"]},props:{country:{type:d,required:!0}},data(){return{isOpen:!1,color:this.country.color}},computed:{},methods:{toggle(){this.isOpen=!this.isOpen}},watch:{color(){this.country.color=this.color.hex}}},y=v,_=(s("ae4c"),s("2877")),w=Object(_["a"])(y,m,g,!1,null,null,null),b=w.exports,C={name:"country",components:{countryColor:b},props:{country:{type:d,required:!0}},computed:{},methods:{deleteCountry(){this.$store.commit("countries/updatePropertyOfItem",{item:this.country,property:"active",value:!1})}}},$=C,P=(s("e729"),Object(_["a"])($,u,p,!1,null,null,null)),x=P.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"selected-countries"},[s("div",{staticClass:"selected-countries__countries"},t._l(t.countries,(function(t){return s("country",{attrs:{country:t}})})),1),t._m(0)])},A=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"comment"},[t._v("(Colors are generated randomly. You can click on the color swatch to change it)")])])}],S={name:"selected-countries",components:{country:x},props:{},computed:{countries(){return this.$store.state.countries.all.filter(t=>t.active)}},methods:{}},k=S,j=(s("c63d"),Object(_["a"])(k,O,A,!1,null,null,null)),E=j.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-countries"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{placeholder:"Search country..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),s("div",{staticClass:"search-countries__results"},t._l(t.results,(function(t){return s("search-countries-country",{attrs:{country:t}})})),1)])},I=[],L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-countries-country",on:{click:function(e){return t.select()}}},[t._v(" "+t._s(t.country.title)+" ")])},q=[],R={name:"search-countries-country",components:{},props:{country:{type:d,required:!0}},computed:{},methods:{select(){this.$store.commit("countries/updatePropertyOfItem",{item:this.country,property:"active",value:!0}),this.$parent.search=""}}},B=R,V=(s("4883"),Object(_["a"])(B,L,q,!1,null,null,null)),M=V.exports,D={name:"search-countries",components:{searchCountriesCountry:M},data(){return{search:""}},props:{},computed:{results(){return""===this.search?[]:this.$store.state.countries.all.filter(t=>!t.active&&(t.title.toLowerCase().indexOf(this.search.toLowerCase())>-1||t.searchTags.toLowerCase().indexOf(this.search.toLowerCase())>-1))}},methods:{}},F=D,N=(s("33f3"),Object(_["a"])(F,T,I,!1,null,null,null)),Y=N.exports,G={name:"country-picker",components:{searchCountries:Y,selectedCountries:E,country:x},props:{},computed:{countries(){return this.$store.state.countries.all}},methods:{}},z=G,W=(s("4280"),Object(_["a"])(z,l,c,!1,null,null,null)),J=W.exports,X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"type-picker tool"},t._l(t.types,(function(t){return s("type",{attrs:{type:t}})})),1)},Z=[],H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"type",on:{click:function(e){return t.toggle()}}},[s("checkbox",{attrs:{"is-active":t.isActive}}),s("div",{staticClass:"type__title"},[t._v(" "+t._s(t.type.title)+" ")])],1)},K=[];class Q{constructor({id:t=null,title:e="",property:s=""}){this.id=t,this.title=e,this.property=s,this.active=!1}}var U=Q,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"checkbox",class:{"checkbox--active":t.isActive}},[s("img",{attrs:{src:"assets/img/tools/checkmark.svg"}})])},et=[],st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"container",staticClass:"inline-svg"})},rt=[],at=s("1157"),it=s.n(at),nt={name:"inline-svg",components:{},props:{src:{type:String,required:!0}},computed:{},methods:{readSvg(){console.log("!"),it()(this.$refs.container).empty(),it.a.get(this.src,t=>{let e=it()(t).find("svg");e=e.removeAttr("xmlns:a"),it()(this.$refs.container).append(e)},"xml")}},mounted(){this.readSvg()},watch:{src(){this.readSvg()}}},ot=nt,lt=(s("9e28"),Object(_["a"])(ot,st,rt,!1,null,null,null)),ct=lt.exports,ut={name:"checkbox",components:{inlineSvg:ct},props:{isActive:{type:Boolean,required:!0}},computed:{},methods:{}},pt=ut,ht=(s("adee"),Object(_["a"])(pt,tt,et,!1,null,null,null)),dt=ht.exports,mt={name:"type",components:{checkbox:dt},props:{type:{type:U,required:!0}},computed:{isActive(){return this.type.active}},methods:{toggle(){this.$store.commit("types/updatePropertyOfItem",{item:this.type,property:"active",value:!this.type.active})}}},gt=mt,ft=(s("1c34"),Object(_["a"])(gt,H,K,!1,null,null,null)),vt=ft.exports,yt={name:"type-picker",components:{type:vt},props:{},computed:{types(){return this.$store.state.types.all}},methods:{}},_t=yt,wt=(s("f302"),Object(_["a"])(_t,X,Z,!1,null,null,null)),bt=wt.exports,Ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings tool"},[s("div",{staticClass:"settings__row"},[t._v(" Start at "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.startAt,expression:"startAt"}],domProps:{value:t.startAt},on:{input:function(e){e.target.composing||(t.startAt=e.target.value)}}}),t._v(" (absolute) "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.mappingType,expression:"mappingType"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.mappingType=e.target.multiple?s:s[0]}}},t._l(t.mappingTypeOptions,(function(e){return s("option",[t._v(" "+t._s(e)+" ")])})),0)]),s("div",{staticClass:"settings__row"},[t._v(" Stop at "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.stopAt,expression:"stopAt"}],domProps:{value:t.stopAt},on:{input:function(e){e.target.composing||(t.stopAt=e.target.value)}}}),t._v(" days (or before if no data). ")]),s("div",{staticClass:"settings__row"},[t._v(" Growth average per "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.growthRatePer,expression:"growthRatePer"}],domProps:{value:t.growthRatePer},on:{input:function(e){e.target.composing||(t.growthRatePer=e.target.value)}}}),t._v(" days. ")])])},$t=[],Pt={name:"settings",components:{},props:{},computed:{startAt:{set(t){this.$store.commit("settings/updateProperty",{key:"startAt",value:t})},get(){return this.$store.state.settings.startAt}},stopAt:{set(t){this.$store.commit("settings/updateProperty",{key:"stopAt",value:t})},get(){return this.$store.state.settings.stopAt}},growthRatePer:{set(t){this.$store.commit("settings/updateProperty",{key:"growthRatePer",value:t})},get(){return this.$store.state.settings.growthRatePer}},mappingType:{set(t){this.$store.commit("settings/updateProperty",{key:"mappingType",value:t})},get(){return this.$store.state.settings.mappingType}},mappingTypeOptions(){return["fatalities","cases"]}},methods:{}},xt=Pt,Ot=(s("fddc"),Object(_["a"])(xt,Ct,$t,!1,null,null,null)),At=Ot.exports,St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dashboard"},[s("y-scale"),s("per-capita"),s("start-at-zero")],1)},kt=[],jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"y-scale tool"},[s("v-switch",{attrs:{toggle:t.toggle,"is-active":t.isActive}}),t._v(" Log scale ")],1)},Et=[],Tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"switch",class:{"switch--active":t.isActive},on:{click:function(e){return t.toggleLocal()}}},[s("div",{staticClass:"switch__button"})])},It=[],Lt={name:"v-switch",components:{},props:{toggle:{type:Function,required:!0},isActive:{type:Boolean,required:!0},size:{type:Number,required:!1,default:3}},computed:{},methods:{toggleLocal(){this.toggle()}}},qt=Lt,Rt=(s("cce0"),Object(_["a"])(qt,Tt,It,!1,null,null,null)),Bt=Rt.exports,Vt={name:"y-scale",components:{vSwitch:Bt},props:{},computed:{isActive(){return this.$store.state.settings.logScale}},methods:{toggle(){this.$store.commit("settings/updateProperty",{key:"logScale",value:!this.isActive})}}},Mt=Vt,Dt=(s("ebf4"),Object(_["a"])(Mt,jt,Et,!1,null,null,null)),Ft=Dt.exports,Nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"per-capita tool"},[s("v-switch",{attrs:{toggle:t.toggle,"is-active":t.isActive}}),t._v(" Per (1M) capita ")],1)},Yt=[],Gt={name:"per-capita",components:{vSwitch:Bt},props:{},computed:{isActive(){return this.$store.state.settings.perCapita}},methods:{toggle(){this.$store.commit("settings/updateProperty",{key:"perCapita",value:!this.isActive})}}},zt=Gt,Wt=(s("5421"),Object(_["a"])(zt,Nt,Yt,!1,null,null,null)),Jt=Wt.exports,Xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"start-at-zero tool"},[s("v-switch",{attrs:{toggle:t.toggle,"is-active":t.isActive}}),t._v(" Cut Y axis ")],1)},Zt=[],Ht={name:"start-at-zero",components:{vSwitch:Bt},props:{},computed:{isActive(){return this.$store.state.settings.cutY}},methods:{toggle(){this.$store.commit("settings/updateProperty",{key:"cutY",value:!this.isActive})}}},Kt=Ht,Qt=(s("b095"),Object(_["a"])(Kt,Xt,Zt,!1,null,null,null)),Ut=Qt.exports,te={name:"dashboard",components:{startAtZero:Ut,perCapita:Jt,yScale:Ft},props:{},computed:{},methods:{}},ee=te,se=(s("b654"),Object(_["a"])(ee,St,kt,!1,null,null,null)),re=se.exports,ae={name:"tools",components:{dashboard:re,settings:At,typePicker:bt,countryPicker:J},props:{},computed:{},methods:{}},ie=ae,ne=(s("bcae"),Object(_["a"])(ie,n,o,!1,null,null,null)),oe=ne.exports,le=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"graphs"},[t.showCases?s("graph-cases",{attrs:{data:t.data}}):t._e(),t.showFatalities?s("graph-fatalities",{attrs:{data:t.data}}):t._e(),t.showGrowth?s("graph-growth",{attrs:{data:t.data}}):t._e()],1)},ce=[],ue=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"graph-fatalities",style:{width:100/t.$parent.l+"%"}},[s("h2",[t._v(" Fatalities ")]),s("line-chart",{attrs:{data:t.data,"get-value":t.getValue,"apply-log-scale":!0}})],1)},pe=[],he=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"chart",staticClass:"line-chart"})},de=[],me=s("5698"),ge={name:"line-chart",components:{},props:{data:{type:Array,required:!0},getValue:{type:Function,required:!0},applyLogScale:{type:Boolean,required:!0}},data(){let t={top:20,right:50,bottom:50,left:50};return{settings:{margin:t,width:0,height:400-t.top-t.bottom},svg:null,container:null,xScale:null,yScale:null,tooltip:null}},computed:{mapping(){return this.$store.state.settings},countries(){return this.$store.state.countries.all},logScale(){return this.$store.state.settings.logScale},cutY(){return this.$store.state.settings.cutY},l(){return this.$store.state.types.all.filter(t=>t.active).length}},methods:{update(){setTimeout(()=>{this.clear(),this.setWidth(),this.draw()})},clear(){this.svg&&this.svg.selectAll("*").remove()},setWidth(){this.settings.width=this.$refs.chart.offsetWidth-this.settings.margin.left-this.settings.margin.right},draw(){let t,e,s;t=0,e=null,s=0;for(let r of this.data){let a,i;a=this.cutY?me["h"](r.dataPoints.map(t=>this.getValue(r,t))):this.logScale&&this.applyLogScale?1:0,i=me["g"](r.dataPoints.map(t=>this.getValue(r,t))),r.dataPoints.length>t&&(t=r.dataPoints.length),(!e||a<e)&&null!==a&&(e=a),i>s&&(s=i)}this.xScale=me["i"]().domain([0,t-1]).range([0,this.settings.width]),this.logScale&&this.applyLogScale?this.yScale=me["j"]().domain([e,s]).range([this.settings.height,0]):this.yScale=me["i"]().domain([e,s]).range([this.settings.height,0]),this.drawTooltip(),this.drawAxes();for(let r of this.data)this.drawCountry(r)},drawCountry(t){let e,s;s=t.dataPoints,e=me["f"]().x((t,e)=>this.xScale(e)).y(e=>this.yScale(this.getValue(t,e))).curve(me["d"]),this.container.append("path").datum(s).attr("class","line").attr("stroke",t.color).attr("d",e),this.container.selectAll(".dot.dot--"+t.id).data(s).enter().append("circle").attr("class","dot dot"+t.id).attr("fill",t.color).attr("cx",(t,e)=>this.xScale(e)).attr("cy",e=>this.yScale(this.getValue(t,e))).attr("r",2).on("mouseover",e=>{this.showTooltip(e,t)}).on("mouseout",t=>{this.hideTooltip()})},showTooltip(t,e){let s,r;r=this.getValue(e,t),s=e.title+" "+t.date+'&nbsp;<span class="tooltip__value">'+r+"</span>",this.tooltip.style("opacity",1),this.tooltip.html(s).style("left",me["e"].pageX+"px").style("top",me["e"].pageY-28+"px")},hideTooltip(){this.tooltip.style("opacity",0)},drawTooltip(){this.tooltip=me["k"]("body").append("div").attr("class","tooltip").style("opacity",0)},drawAxes(){this.container=this.svg.attr("width",this.settings.width+this.settings.margin.left+this.settings.margin.right).attr("height",this.settings.height+this.settings.margin.top+this.settings.margin.bottom).append("g").attr("transform","translate("+this.settings.margin.left+","+this.settings.margin.top+")"),this.container.append("g").attr("class","x axis").attr("transform","translate(0,"+this.settings.height+")").call(me["a"](this.xScale)),this.container.append("g").attr("class","y axis").call(me["b"](this.yScale))},init(){let t=this.$refs.chart;this.svg=me["k"](t).append("svg")}},mounted(){this.init(),this.update()},watch:{mapping:{handler:function(t){this.update()},deep:!0},countries:{handler:function(t){this.update()},deep:!0},l:{handler:function(t){this.update()}}}},fe=ge,ve=(s("b992"),Object(_["a"])(fe,he,de,!1,null,null,null)),ye=ve.exports,_e={name:"graph-fatalities",components:{lineChart:ye},props:{data:{type:Array,required:!0}},computed:{perCapita(){return this.$store.state.settings.perCapita}},methods:{getValue(t,e){return this.perCapita?1e6*e.fatalities/t.population:e.fatalities}}},we=_e,be=(s("6c3e"),Object(_["a"])(we,ue,pe,!1,null,null,null)),Ce=be.exports,$e=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"graph-growth",style:{width:100/t.$parent.l+"%"}},[s("h2",[t._v(" Growth Rate Fatalities ")]),s("line-chart",{attrs:{data:t.data,"get-value":t.getValue,"apply-log-scale":!1}})],1)},Pe=[],xe={name:"graph-growth",components:{lineChart:ye},props:{data:{type:Array,required:!0}},computed:{growthRatePer(){return this.$store.state.settings.growthRatePer}},methods:{getValue(t,e){let s,r,a;const i=function(e){for(let s of t.originalDataPoints)if(s.date===e.date)return t.originalDataPoints.indexOf(s);return-1};if(s=i(e),r=this.growthRatePer,s>r-1){let i,n;return i=t.originalDataPoints[s-r],n=e.fatalities/i.fatalities,a=Math.pow(n,1/r),Math.round(100*a)/100}return null}}},Oe=xe,Ae=(s("1f27"),Object(_["a"])(Oe,$e,Pe,!1,null,null,null)),Se=Ae.exports,ke=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"graph-cases",style:{width:100/t.$parent.l+"%"}},[s("h2",[t._v(" Cases ")]),s("line-chart",{attrs:{data:t.data,"get-value":t.getValue,"apply-log-scale":!0}})],1)},je=[],Ee={name:"graph-cases",components:{lineChart:ye},props:{data:{type:Array,required:!0}},computed:{perCapita(){return this.$store.state.settings.perCapita}},methods:{getValue(t,e){return this.perCapita?1e6*e.cases/t.population:e.cases}}},Te=Ee,Ie=(s("ac65"),Object(_["a"])(Te,ke,je,!1,null,null,null)),Le=Ie.exports,qe={name:"graphs",components:{GraphCases:Le,graphGrowth:Se,graphFatalities:Ce},props:{},computed:{showFatalities(){let t=this.$store.getters["types/getItemByProperty"]("property","fatalities");return t.active},showCases(){let t=this.$store.getters["types/getItemByProperty"]("property","cases");return t.active},showGrowth(){let t=this.$store.getters["types/getItemByProperty"]("property","growth");return t.active},l(){return this.$store.state.types.all.filter(t=>t.active).length},countries(){return this.$store.state.countries.all.filter(t=>t.active)},data(){return this.countries.map(t=>{let e={...t};e.dataPoints=[],e.originalDataPoints=[];for(let s of e.entries){let t={...s};t.index=e.dataPoints.length+1,e.originalDataPoints.push(t),this.isAboveMapping(s)&&this.isBeforeStop(e.dataPoints.length)&&e.dataPoints.push(t)}return delete e.entries,e})}},methods:{isAboveMapping(t){return t[this.$store.state.settings.mappingType]>this.$store.state.settings.startAt},isBeforeStop(t){return t<this.$store.state.settings.stopAt}}},Re=qe,Be=(s("32e2"),Object(_["a"])(Re,le,ce,!1,null,null,null)),Ve=Be.exports,Me={name:"app",components:{graphs:Ve,tools:oe},props:{},data(){return{types:[{id:1,title:"Cases",property:"cases"},{id:2,title:"Fatalities",property:"fatalities"},{id:3,title:"Growth",property:"growth"}]}},computed:{dataLoaded(){return this.$store.state.dataLoaded}},methods:{getRandomColor(){let t,e;t="0123456789ABCDEF",e="#";for(let s=0;s<6;s++)e+=t[Math.floor(16*Math.random())];return e},loadCsv(){let t,e;me["c"]("data/cases.csv").then(s=>{t=s,me["c"]("data/fatalities.csv").then(s=>{e=s,this.convertData(t,e)}).catch(t=>{})}).catch(t=>{})},convertData(t,e){let s,r;s=[],r=0;const a=function(t){for(let s of e)if(s.Country===t)return s;return null};for(let i of t){let t,e;e=a(i.Country),t={},t.entries=[],t.title=i.Country,t.id=s.length+1,t.searchTags="",t.color=this.getRandomColor(),t.population=this.getPopulation(i.Country);for(let s in i)if("Country"!==s&&""!==s){let r,a,n;a=""!==i[s]?Number(i[s]):0,n=e&&e.hasOwnProperty(s)&&""!==e[s]?Number(e[s]):0,r={date:s,cases:a,fatalities:n},t.entries.push(r)}s.push(t),r++}this.loadData(s)},getPopulation(t){for(let e of window.population)if(e.country===t)return Number(e.population);return 0},loadData(t){this.$store.commit("countries/init",t),this.$store.commit("types/init",this.types),this.$store.commit("updateProperty",{key:"dataLoaded",value:!0}),this.$store.commit("countries/updatePropertyOfItem",{item:{id:2},property:"active",value:!0}),this.$store.commit("countries/updatePropertyOfItem",{item:{id:3},property:"active",value:!0}),this.$store.commit("countries/updatePropertyOfItem",{item:{id:42},property:"active",value:!0}),this.$store.commit("types/updatePropertyOfItem",{item:{id:1},property:"active",value:!0}),this.$store.commit("types/updatePropertyOfItem",{item:{id:2},property:"active",value:!0}),this.$store.commit("types/updatePropertyOfItem",{item:{id:3},property:"active",value:!0})}},mounted(){this.loadCsv()}},De=Me,Fe=(s("6294"),Object(_["a"])(De,a,i,!1,null,null,null)),Ne=Fe.exports,Ye=s("2f62");const Ge={getAll(t){return t.all},getItemById:t=>e=>{let s=t.all.find(t=>t.id===e);return s||null},getItemByProperty:t=>(e,s)=>t.all.find(t=>t[e]===s),getSetByIds:t=>e=>{let s=[];for(let r of e){let e=t.all.find(t=>t.id===r);e&&s.push(e)}return s},getLastItem(t){return t.all[t.all.length-1]}},ze={},We={init(t,e,s){t.all=[];for(let r of e)r&&t.all.push(new s(r))},setCurrent(t,e){t.current=e},unsetCurrent(t){t.current=null},create(t,e,s){t.all.push(new s(e))},update(t,e){t.all=t.all.map(t=>(t.id===e.id&&(t=e),t))},updatePropertyOfItem(t,e,s,r){t.all=t.all.map(t=>(t.id===e.id&&(t[s]=r),t))},delete(t,e){t.all=t.all.filter((function(t){return t.id!==e.id}))},updateProperty(t,e){t[e.key]=e.value},reset(t){t.all=[],t.current=null}};var Je={getters:Ge,actions:ze,mutations:We};const Xe=d,Ze={all:[],selected:[],current:null},He={...Je.getters},Ke={},Qe={init(t,e){return Je.mutations.init(t,e,Xe)},updatePropertyOfItem(t,e){Je.mutations.updatePropertyOfItem(t,e.item,e.property,e.value)}};var Ue={namespaced:!0,state:Ze,getters:He,actions:Ke,mutations:Qe};const ts=U,es={all:[],selected:[],current:null},ss={...Je.getters},rs={},as={init(t,e){return Je.mutations.init(t,e,ts)},updatePropertyOfItem(t,e){Je.mutations.updatePropertyOfItem(t,e.item,e.property,e.value)}};var is={namespaced:!0,state:es,getters:ss,actions:rs,mutations:as};const ns={startAt:100,stopAt:30,mappingType:"fatalities",logScale:!0,perCapita:!1,growthRatePer:7,cutY:!0},os={...Je.getters},ls={},cs={updateProperty(t,e){t[e.key]=e.value}};var us={namespaced:!0,state:ns,getters:os,actions:ls,mutations:cs};r["a"].use(Ye["a"]);const ps={dataLoaded:!1},hs={updateProperty(t,e){t[e.key]=e.value}};var ds=new Ye["a"].Store({state:ps,mutations:hs,actions:{},modules:{countries:Ue,types:is,settings:us}});r["a"].config.productionTip=!1,new r["a"]({store:ds,render:function(t){return t(Ne)}}).$mount("#app")},"5c40":function(t,e,s){},"5d47":function(t,e,s){},6294:function(t,e,s){"use strict";var r=s("437c"),a=s.n(r);a.a},"674e":function(t,e,s){},"6c3e":function(t,e,s){"use strict";var r=s("3192"),a=s.n(r);a.a},7439:function(t,e,s){},7964:function(t,e,s){},"86da":function(t,e,s){},9163:function(t,e,s){},"945c":function(t,e,s){},"9a94":function(t,e,s){},"9c15":function(t,e,s){},"9e28":function(t,e,s){"use strict";var r=s("2f5c"),a=s.n(r);a.a},ac65:function(t,e,s){"use strict";var r=s("c1b6"),a=s.n(r);a.a},adee:function(t,e,s){"use strict";var r=s("2c1d"),a=s.n(r);a.a},ae4c:function(t,e,s){"use strict";var r=s("eae3"),a=s.n(r);a.a},b095:function(t,e,s){"use strict";var r=s("3e28"),a=s.n(r);a.a},b654:function(t,e,s){"use strict";var r=s("7964"),a=s.n(r);a.a},b992:function(t,e,s){"use strict";var r=s("5c40"),a=s.n(r);a.a},bcae:function(t,e,s){"use strict";var r=s("674e"),a=s.n(r);a.a},c1b6:function(t,e,s){},c63d:function(t,e,s){"use strict";var r=s("4587"),a=s.n(r);a.a},cce0:function(t,e,s){"use strict";var r=s("945c"),a=s.n(r);a.a},e729:function(t,e,s){"use strict";var r=s("fe7a"),a=s.n(r);a.a},eae3:function(t,e,s){},ebf4:function(t,e,s){"use strict";var r=s("067f"),a=s.n(r);a.a},f302:function(t,e,s){"use strict";var r=s("9a94"),a=s.n(r);a.a},fddc:function(t,e,s){"use strict";var r=s("7439"),a=s.n(r);a.a},fe7a:function(t,e,s){}});
//# sourceMappingURL=app.a220fbed.js.map